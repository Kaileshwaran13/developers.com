<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Auth Page ‚Äî Pixel UI Glassmorphism (Responsive Fix)</title>

<style>
  :root{
    --bg:#e9eef8; --card:#ffffff; --muted:#6b7280; --accent:#2563eb; --glass: rgba(255,255,255,0.6);
    --bg-dark:#071019; --card-dark: rgba(22,27,34,0.85); --muted-dark:#9aa6b2; --accent-dark:#58a6ff; --glass-dark: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; padding:0; font-family:'Times New Roman',serif; font-style:italic;}
  body{
    background:linear-gradient(180deg,var(--bg),#f6fbff);
    transition:background-color .6s ease,color .5s ease;
    display:flex; align-items:center; justify-content:center;
    min-height:100vh; padding:16px;
    color:#0f172a;
  }
  body.dark{ background: linear-gradient(180deg,var(--bg-dark),#021016); color:var(--muted-dark) }

  .auth-container{
    width:100%; max-width:920px;
    background:linear-gradient(180deg,var(--glass),rgba(255,255,255,0.45));
    backdrop-filter:blur(10px) saturate(130%);
    border-radius:20px; padding:24px 28px;
    box-shadow:0 12px 40px rgba(16,24,40,0.12);
    transition:.5s ease;
    overflow:hidden;
    transform-origin:center center;
    margin:auto;
  }
  body.dark .auth-container{
    background:linear-gradient(180deg,var(--glass-dark),rgba(255,255,255,0.02));
    box-shadow:0 12px 40px rgba(2,6,23,0.6);
  }

  h2{text-align:center; margin-top:0; margin-bottom:20px; font-size:1.5rem;}

  .tabs{display:flex; justify-content:center; gap:10px; margin-bottom:20px;}
  .tab-btn{
    padding:10px 18px; border-radius:14px; cursor:pointer; border:1px solid rgba(16,24,40,0.06);
    background:rgba(255,255,255,0.6); box-shadow:0 6px 18px rgba(16,24,40,0.04);
    transition:.3s; user-select:none;
  }
  .tab-btn:hover{transform:translateY(-3px)}
  .tab-btn.active{background:var(--accent); color:white}
  body.dark .tab-btn{background:rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.08)}

  .input-group{display:flex; flex-direction:column; margin-bottom:14px;}
  label{margin-bottom:6px; font-size:0.95rem}
  input{
    padding:12px; border-radius:12px; border:1px solid rgba(16,24,40,0.1);
    background:rgba(255,255,255,0.7); font-size:1rem; width:100%; min-width:0;
  }
  body.dark input{background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.05); color:white}

  .otp-btn{
    padding:8px 10px; border-radius:10px; background:var(--accent); color:white;
    cursor:pointer; border:none; font-style:normal; min-width:44px;
  }

  .submit-btn{
    margin-top:10px; width:100%; padding:12px; border:none;
    border-radius:14px; cursor:pointer; background:var(--accent); color:white; font-size:1.05rem;
  }

  /* Animated panel behavior (smooth transition between register/login) */
  .panel{
    transition: opacity .36s cubic-bezier(.2,.9,.2,1), transform .36s cubic-bezier(.2,.9,.2,1), max-height .36s ease;
    overflow:hidden;
    opacity:1;
    transform:translateY(0);
    max-height:1200px; /* large enough to accommodate content */
  }
  .panel.hidden{
    opacity:0;
    transform:translateY(8px);
    max-height:0;
    pointer-events:none;
  }

  /* THEME TOGGLE FIX ‚Äî bottom right */
  .theme-toggle{
    position:fixed;
    bottom:14px;
    right:14px;
    background:linear-gradient(180deg,#fff,#f4f8ff);
    border:1px solid rgba(16,24,40,0.06);

    /* make square */
    width:44px;
    height:44px;
    padding:0;
    display:inline-grid;
    place-items:center;
    border-radius:6px; /* set to 0 for perfectly sharp corners */
    cursor:pointer; z-index:2000;
  }
  body.dark .theme-toggle{
    background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
    border:1px solid rgba(255,255,255,0.12);
    color:var(--accent-dark);

    /* match dark style to square shape */
    width:44px;
    height:44px;
    padding:0;
    border-radius:6px;
  }

  /* GRID */
  .input-row{display:grid; gap:10px; align-items:center; width:100%; grid-auto-flow:column}
  .input-row > *{min-width:0;}

  .email-row{grid-template-columns:120px minmax(180px,1fr) auto minmax(120px,180px) auto}
  .phone-row{grid-template-columns:120px 80px minmax(140px,1fr) auto minmax(120px,160px) auto}
  .user-row{grid-template-columns:120px minmax(200px,1fr)}
  .pass-row{grid-template-columns:120px minmax(200px,1fr)}

  /* Medium screens */
  @media (max-width:920px){
    .auth-container{max-width:820px}
    .email-row{grid-template-columns:110px minmax(160px,1fr) 80px minmax(100px,160px) 60px}
    .phone-row{grid-template-columns:110px 70px minmax(120px,1fr) 80px minmax(100px,140px) 60px}
  }

  /* MOBILE FIX ‚Äî stacking + centering */
  @media (max-width:760px){
    body{padding-top:32px; padding-bottom:32px}
    .auth-container{
      padding:18px;
      transform:scale(0.95);
      margin:0 auto;
      transform-origin:center center;
    }
    .email-row, .phone-row, .user-row, .pass-row{
      grid-template-columns:1fr !important;
      grid-auto-flow:row;
    }
    .input-row{row-gap:10px}

    /* toggle bottom right */
    .theme-toggle{ bottom:12px; right:12px; top:auto; }
  }

  @media (max-width:420px){
    .auth-container{
      transform:translateX(0) scale(0.82);
      max-width:420px;
      margin:0 auto;
    }
    .tab-btn{padding:8px 12px}
    .otp-btn{padding:8px}
    .submit-btn{padding:10px; font-size:1rem}
    html,body{overflow-x:auto; -webkit-overflow-scrolling:touch}
    .theme-toggle{ bottom:10px; right:10px; top:auto; }
  }

  @media (max-width:360px){
    .auth-container{
      transform:translateX(0) scale(0.78);
    }
    .theme-toggle{ transform:scale(.95); bottom:10px; }
  }

</style>
</head>

<body>

<button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">üåô</button>

<div class="auth-container" role="region" aria-label="Authentication container">

  <div class="tabs" role="tablist">
    <div class="tab-btn active" id="regTab" role="tab" aria-selected="true" tabindex="0">Register</div>
    <div class="tab-btn" id="logTab" role="tab" aria-selected="false" tabindex="0">Login</div>
  </div>

  <!-- Register -->
  <div id="registerForm" class="panel" aria-hidden="false">
    <h2>Register</h2>

    <div class="input-group input-row user-row">
      <label>Username</label>
      <input id="reg_username" type="text" placeholder="Username">
    </div>

    <div class="input-group input-row email-row">
      <label>Email</label>
      <input id="reg_email" type="email" placeholder="you@example.com">
      <button id="sendEmail" class="otp-btn" type="button" aria-label="Send email OTP">üì©</button>
      <input id="reg_email_otp" placeholder="OTP">
      <button id="validateEmail" class="otp-btn" type="button" aria-label="Validate email OTP">‚úîÔ∏è</button>
    </div>

    <div class="input-group input-row phone-row">
      <label>Phone</label>
      <input id="reg_country" type="text" value="+91">
      <input id="reg_phone" type="tel" placeholder="Number">
      <button id="sendPhone" class="otp-btn" type="button" aria-label="Send phone OTP">üì©</button>
      <input id="reg_phone_otp" placeholder="OTP">
      <button id="validatePhone" class="otp-btn" type="button" aria-label="Validate phone OTP">‚úîÔ∏è</button>
    </div>

    <div class="input-group input-row pass-row">
      <label>Password</label>
      <input id="reg_password" type="password" placeholder="Password">
    </div>

    <button id="registerBtn" class="submit-btn" type="button">Register</button>
  </div>

  <!-- Login -->
  <div id="loginForm" class="panel hidden" aria-hidden="true">
    <h2>Login</h2>

    <div class="input-group">
      <label>Username</label>
      <input id="login_username" type="text" placeholder="Username">
    </div>

    <div class="input-group">
      <label>Password</label>
      <input id="login_password" type="password" placeholder="Password">
    </div>

    <button id="loginBtn" class="submit-btn" type="button">Login</button>
  </div>

</div>

<script>
/* Tab switching with smooth panel transitions and aria updates */
const regTab = document.getElementById('regTab');
const logTab = document.getElementById('logTab');
const regForm = document.getElementById('registerForm');
const logForm = document.getElementById('loginForm');

function showRegister(){
  regTab.classList.add('active');
  logTab.classList.remove('active');
  // show register panel
  regForm.classList.remove('hidden');
  regForm.setAttribute('aria-hidden','false');
  // hide login panel
  logForm.classList.add('hidden');
  logForm.setAttribute('aria-hidden','true');
  regTab.setAttribute('aria-selected','true');
  logTab.setAttribute('aria-selected','false');
}
function showLogin(){
  logTab.classList.add('active');
  regTab.classList.remove('active');
  logForm.classList.remove('hidden');
  logForm.setAttribute('aria-hidden','false');
  regForm.classList.add('hidden');
  regForm.setAttribute('aria-hidden','true');
  logTab.setAttribute('aria-selected','true');
  regTab.setAttribute('aria-selected','false');
}

regTab.onclick = showRegister;
logTab.onclick = showLogin;
regTab.onkeydown = (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); showRegister(); } };
logTab.onkeydown = (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); showLogin(); } };

/* Theme toggle */
const themeToggle = document.getElementById('themeToggle');
function applyTheme(t){
  if(t==='dark') document.body.classList.add('dark'); 
  else document.body.classList.remove('dark');
  themeToggle.textContent = t==='dark' ? 'üåô' : '‚òÄÔ∏è';
  localStorage.setItem('auth_theme',t);
}
applyTheme(localStorage.getItem('auth_theme') || 'light');

themeToggle.onclick = ()=>{ 
  const cur = document.body.classList.contains('dark') ? 'dark' : 'light';
  applyTheme(cur==='dark'?'light':'dark');
};

/* OTP Demo */
function genOTP(){ return Math.floor(100000 + Math.random()*900000); }

let emailOTP = null, phoneOTP = null;

sendEmail.onclick = ()=>{
  if(!reg_email.value.trim()) return alert("Enter email");
  emailOTP = genOTP();
  alert("Demo Email OTP: " + emailOTP);
};

validateEmail.onclick = ()=>{
  if(reg_email_otp.value == emailOTP) alert("Email Verified");
  else alert("Invalid OTP");
};

sendPhone.onclick = ()=>{
  if(!reg_phone.value.trim()) return alert("Enter phone");
  phoneOTP = genOTP();
  alert("Demo Phone OTP: " + phoneOTP);
};

validatePhone.onclick = ()=>{ 
  if(reg_phone_otp.value == phoneOTP) alert("Phone Verified");
  else alert("Invalid OTP");
};

/* Demo login/register */
registerBtn.onclick = ()=>{
  if(!reg_username.value || !reg_password.value) return alert("Fill details");
  alert("Registration success (demo)");
};
loginBtn.onclick = ()=>{
  if(!login_username.value || !login_password.value) return alert("Fill details");
  alert("Login success (demo)");
};
</script>

</body>
</html>
